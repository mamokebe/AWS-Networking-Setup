# ðŸ› ï¸ VPC Setup CLI (Node.js + AWS SDK)

A modular CLI to create and manage an AWS VPC with:
- Subnets (Public + Private)
- Internet Gateway
- NAT Instance or Gateway
- Bastion Host
- Route Tables
- Auto-generated architecture diagram (Mermaid)
- Safe teardown with state tracking

---

## ðŸš€ Usage

```bash
npm install
npm start
```

You'll be prompted to select from the following steps:

- Create VPC
- Create Subnets
- Create Internet Gateway
- Create Bastion Host
- Create NAT Instance
- Create NAT Gateway
- Create Route Tables + NAT Association
- Create Security Groups
- Generate Architecture Diagram
- Teardown All Resources

---

## ðŸ—‚ Project Structure

```
aws-networking-setup/
â”œâ”€â”€ cli.js                 # Interactive CLI menu
â”œâ”€â”€ config.js              # Configuration (region, key, AMI)
â”œâ”€â”€ state.js               # Persistent state manager
â”œâ”€â”€ steps/                 # Each setup step as a module
â”‚   â””â”€â”€ 1-create-vpc.js ... 9-generate-diagram.js
â”œâ”€â”€ .gitignore             # Ignores state, env, node_modules
â”œâ”€â”€ vpc-state.json         # Generated state (autogenerated)
â”œâ”€â”€ vpc-architecture.md    # Generated diagram in Mermaid syntax
â””â”€â”€ README.md              # This file
```

---

## ðŸ“Š Architecture Preview (via `vpc-architecture.md`)

Run this CLI option:
```
Generate Architecture Diagram
```
And it will write to `vpc-architecture.md`:

```mermaid
graph TD
  VPC["VPC (vpc-xxxxxx)"]
  IGW["Internet Gateway (igw-xxxxxx)"]
  NAT["NAT Gateway (nat-xxxxxx)"]
  PUB["Public Subnet (subnet-xxxxxx)"]
  PRIV["Private Subnet (subnet-yyyyyy)"]
  RT1["Public Route Table (rtb-xxxxxx)"]
  RT2["Private Route Table (rtb-yyyyyy)"]

  VPC --> IGW
  VPC --> PUB
  VPC --> PRIV
  PUB --> RT1 --> IGW
  PRIV --> RT2 --> NAT
```

---

## ðŸ§¹ Teardown
Use the menu option `Teardown All Resources` to delete the VPC and clear state.

> Note: You may still need to manually delete EIP, NAT gateway, or security groups if AWS doesnâ€™t clean them up automatically.

---

## ðŸ§° Requirements
- Node.js 18+
- AWS credentials configured (via CLI or env)

---

## ðŸ“¦ Publish This CLI
```bash
git init
git remote add origin https://github.com/YOUR_USERNAME/vpc-setup-cli.git
git add .
git commit -m "Initial commit"
git push -u origin main
```

---

MIT License Â© Kebede B.